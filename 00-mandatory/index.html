<!DOCTYPE html>
<html ng-app="mainModule">

<head>
    <meta charset="utf-8" />
    <title>RateMyFood</title>
    <link rel="stylesheet" href="css/style.css" />
</head>

<body ng-controller="mainController">
<div>
    <h1>Hej</h1>
    <table>
        <tbody>
        <tr ng-repeat="image in images">
            <td>{{image.id}}</td>
            <td>{{image.navn}}</td>
            <td><img ng-src='{{image.billede}}'/></td>
            <td>{{image.rating}}</td>
            <td><button ng-click="deleteImage(image)">Delete</button></td>
        </tr>
        </tbody>
    </table>

    <form ng-submit="createImage()" id="uploadForm" enctype="multipart/form-data" action="/api/photo" method="post">
        <label for="id">ID:</label>
            <input type="text" ng-model="id" id="id"><br>
        <label for="navn">Navn:</label>
            <input type="text" ng-model="navn" id="navn"><br>
        <label for="rating">Billede:</label>
            <input type="file" ng-model="billede" id="billede" name="userPhoto">
            <input type="submit" value="Upload billede" name="submit"><br>
        <label for="rating">Rating:</label>
            <input type="text" ng-model="rating" id="rating"><br>
        <input type="submit" value="Submit" ng-click="add()">
    </form>

</div>
</body>
<script data-require="angular.js@1.2.x" src="https://code.angularjs.org/1.2.27/angular.js" data-semver="1.2.27"></script>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
<script src="http://cdnjs.cloudflare.com/ajax/libs/jquery.form/3.51/jquery.form.min.js"></script>
<script src="scripts/controller.js"></script>
<script>
    $(document).ready(function() {

        $('#uploadForm').submit(function() {

            $(this).ajaxSubmit({

                error: function(xhr) {
                    status('Error: ' + xhr.status);
                },

                success: function(response) {
                    console.log(response);
                }
            });

            return false;
        });
    });
</script>

</html>
